<!--
  ~  This file is part of AntMonitor <https://athinagroup.eng.uci.edu/projects/antmonitor/>.
  ~  Copyright (C) 2018 Anastasia Shuba and the UCI Networking Group
  ~  <https://athinagroup.eng.uci.edu>, University of California, Irvine.
  ~
  ~  AntMonitor is free software: you can redistribute it and/or modify
  ~  it under the terms of the GNU General Public License as published by
  ~  the Free Software Foundation, either version 2 of the License, or
  ~  (at your option) any later version.
  ~
  ~  AntMonitor is distributed in the hope that it will be useful,
  ~  but WITHOUT ANY WARRANTY; without even the implied warranty of
  ~  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  ~  GNU General Public License for more details.
  ~
  ~  You should have received a copy of the GNU General Public License
  ~  along with AntMonitor. If not, see <http://www.gnu.org/licenses/>.
  -->

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_161) on Thu Nov 08 11:54:29 PST 2018 -->
<title>VpnController</title>
<meta name="date" content="2018-11-08">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="VpnController";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":9,"i1":10,"i2":10,"i3":9,"i4":10,"i5":9,"i6":9,"i7":10,"i8":9,"i9":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/VpnClient.VpnClientBinder.html" title="class in edu.uci.calit2.antmonitor.lib.vpn"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/VpnController.VpnStateReceiver.html" title="class in edu.uci.calit2.antmonitor.lib.vpn"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?edu/uci/calit2/antmonitor/lib/vpn/VpnController.html" target="_top">Frames</a></li>
<li><a href="VpnController.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">edu.uci.calit2.antmonitor.lib.vpn</div>
<h2 title="Class VpnController" class="title">Class VpnController</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>edu.uci.calit2.antmonitor.lib.vpn.VpnController</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">VpnController</span>
extends java.lang.Object</pre>
<div class="block">A helper class meant to be used by Activities that are responsible for starting/stopping
 the VPN service.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/VpnController.VpnStateReceiver.html" title="class in edu.uci.calit2.antmonitor.lib.vpn">VpnController.VpnStateReceiver</a></span></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static android.content.Context</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/VpnController.html#mActivContext">mActivContext</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static <a href="../../../../../../edu/uci/calit2/antmonitor/lib/AntMonitorActivity.html" title="interface in edu.uci.calit2.antmonitor.lib">AntMonitorActivity</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/VpnController.html#mActivity">mActivity</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/VpnClient.VpnClientBinder.html" title="class in edu.uci.calit2.antmonitor.lib.vpn">VpnClient.VpnClientBinder</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/VpnController.html#mService">mService</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private android.content.ServiceConnection</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/VpnController.html#mServiceConn">mServiceConn</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static <a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/VpnController.VpnStateReceiver.html" title="class in edu.uci.calit2.antmonitor.lib.vpn">VpnController.VpnStateReceiver</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/VpnController.html#mVpnStateReceiver">mVpnStateReceiver</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/VpnController.html#REQUEST_INSTALL_CERT">REQUEST_INSTALL_CERT</a></span></code>
<div class="block">Use this with <code>Activity.startActivityForResult(android.content.Intent, int)</code>
 to ask the user to install a root certificate, needed for SSL bumping.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/VpnController.html#REQUEST_VPN_RIGHTS">REQUEST_VPN_RIGHTS</a></span></code>
<div class="block">Use this with <code>Activity.startActivityForResult(android.content.Intent, int)</code>
 to ask the user for VPN rights</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/VpnController.html#TAG">TAG</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static <a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/VpnController.html" title="class in edu.uci.calit2.antmonitor.lib.vpn">VpnController</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/VpnController.html#vpnController">vpnController</a></span></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier</th>
<th class="colLast" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private </code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/VpnController.html#VpnController--">VpnController</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/VpnController.html#addPinnedDomains-java.io.InputStream-">addPinnedDomains</a></span>(java.io.InputStream&nbsp;jsonStream)</code>
<div class="block">Add domain/app combos in the provided stream to a list of domain/apps that should not
 attempt TLS interception.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/VpnController.html#bind--">bind</a></span>()</code>
<div class="block">Binds to the VPN service and registers a receiver so that the calling activity can
 receive updates about the VPN state through <code>onVpnStateChanged()</code>.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/VpnController.html#connect-edu.uci.calit2.antmonitor.lib.vpn.IncPacketFilter-edu.uci.calit2.antmonitor.lib.vpn.OutPacketFilter-edu.uci.calit2.antmonitor.lib.logging.PacketConsumer-edu.uci.calit2.antmonitor.lib.logging.PacketConsumer-">connect</a></span>(<a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/IncPacketFilter.html" title="class in edu.uci.calit2.antmonitor.lib.vpn">IncPacketFilter</a>&nbsp;incFilter,
       <a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/OutPacketFilter.html" title="class in edu.uci.calit2.antmonitor.lib.vpn">OutPacketFilter</a>&nbsp;outFilter,
       <a href="../../../../../../edu/uci/calit2/antmonitor/lib/logging/PacketConsumer.html" title="class in edu.uci.calit2.antmonitor.lib.logging">PacketConsumer</a>&nbsp;incPacketConsumer,
       <a href="../../../../../../edu/uci/calit2/antmonitor/lib/logging/PacketConsumer.html" title="class in edu.uci.calit2.antmonitor.lib.logging">PacketConsumer</a>&nbsp;outPacketConsumer)</code>
<div class="block">Attempts to start the VPN connection.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/VpnController.html#connectInBackground-android.content.Context-edu.uci.calit2.antmonitor.lib.vpn.IncPacketFilter-edu.uci.calit2.antmonitor.lib.vpn.OutPacketFilter-edu.uci.calit2.antmonitor.lib.logging.PacketConsumer-edu.uci.calit2.antmonitor.lib.logging.PacketConsumer-">connectInBackground</a></span>(android.content.Context&nbsp;context,
                   <a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/IncPacketFilter.html" title="class in edu.uci.calit2.antmonitor.lib.vpn">IncPacketFilter</a>&nbsp;incFilter,
                   <a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/OutPacketFilter.html" title="class in edu.uci.calit2.antmonitor.lib.vpn">OutPacketFilter</a>&nbsp;outFilter,
                   <a href="../../../../../../edu/uci/calit2/antmonitor/lib/logging/PacketConsumer.html" title="class in edu.uci.calit2.antmonitor.lib.logging">PacketConsumer</a>&nbsp;incPacketConsumer,
                   <a href="../../../../../../edu/uci/calit2/antmonitor/lib/logging/PacketConsumer.html" title="class in edu.uci.calit2.antmonitor.lib.logging">PacketConsumer</a>&nbsp;outPacketConsumer)</code>
<div class="block">Same as <a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/VpnController.html#connect-edu.uci.calit2.antmonitor.lib.vpn.IncPacketFilter-edu.uci.calit2.antmonitor.lib.vpn.OutPacketFilter-edu.uci.calit2.antmonitor.lib.logging.PacketConsumer-edu.uci.calit2.antmonitor.lib.logging.PacketConsumer-"><code>connect(IncPacketFilter, OutPacketFilter, PacketConsumer, PacketConsumer)</code></a>, except
 it does not require binding (see <a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/VpnController.html#bind--"><code>bind()</code></a>).</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/VpnController.html#disconnect--">disconnect</a></span>()</code>
<div class="block">Disconnects the VPN if we are connected.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>static <a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/VpnController.html" title="class in edu.uci.calit2.antmonitor.lib.vpn">VpnController</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/VpnController.html#getInstance-edu.uci.calit2.antmonitor.lib.AntMonitorActivity-">getInstance</a></span>(<a href="../../../../../../edu/uci/calit2/antmonitor/lib/AntMonitorActivity.html" title="interface in edu.uci.calit2.antmonitor.lib">AntMonitorActivity</a>&nbsp;activity)</code>
<div class="block">Initializes the controller</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/VpnController.html#getSSLBumpingEnabled--">getSSLBumpingEnabled</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/VpnController.html#isConnectedToInternet--">isConnectedToInternet</a></span>()</code>
<div class="block">Convenience method for checking Internet connectivity</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/VpnController.html#setSSLBumpingEnabled-android.content.Context-boolean-">setSSLBumpingEnabled</a></span>(android.content.Context&nbsp;context,
                    boolean&nbsp;enabled)</code>&nbsp;</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/VpnController.html#unbind--">unbind</a></span>()</code>
<div class="block">Unbinds from the VPN service if we were previously bound to it and unregisters the
 receiver used for VPN status updates.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="REQUEST_VPN_RIGHTS">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>REQUEST_VPN_RIGHTS</h4>
<pre>public static final&nbsp;int REQUEST_VPN_RIGHTS</pre>
<div class="block">Use this with <code>Activity.startActivityForResult(android.content.Intent, int)</code>
 to ask the user for VPN rights</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../constant-values.html#edu.uci.calit2.antmonitor.lib.vpn.VpnController.REQUEST_VPN_RIGHTS">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="REQUEST_INSTALL_CERT">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>REQUEST_INSTALL_CERT</h4>
<pre>public static final&nbsp;int REQUEST_INSTALL_CERT</pre>
<div class="block">Use this with <code>Activity.startActivityForResult(android.content.Intent, int)</code>
 to ask the user to install a root certificate, needed for SSL bumping.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../constant-values.html#edu.uci.calit2.antmonitor.lib.vpn.VpnController.REQUEST_INSTALL_CERT">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="TAG">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>TAG</h4>
<pre>private static final&nbsp;java.lang.String TAG</pre>
</li>
</ul>
<a name="mVpnStateReceiver">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mVpnStateReceiver</h4>
<pre>private static&nbsp;<a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/VpnController.VpnStateReceiver.html" title="class in edu.uci.calit2.antmonitor.lib.vpn">VpnController.VpnStateReceiver</a> mVpnStateReceiver</pre>
</li>
</ul>
<a name="mService">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mService</h4>
<pre>private&nbsp;<a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/VpnClient.VpnClientBinder.html" title="class in edu.uci.calit2.antmonitor.lib.vpn">VpnClient.VpnClientBinder</a> mService</pre>
</li>
</ul>
<a name="mActivity">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mActivity</h4>
<pre>private static&nbsp;<a href="../../../../../../edu/uci/calit2/antmonitor/lib/AntMonitorActivity.html" title="interface in edu.uci.calit2.antmonitor.lib">AntMonitorActivity</a> mActivity</pre>
</li>
</ul>
<a name="mActivContext">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mActivContext</h4>
<pre>private static&nbsp;android.content.Context mActivContext</pre>
</li>
</ul>
<a name="vpnController">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>vpnController</h4>
<pre>private static&nbsp;<a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/VpnController.html" title="class in edu.uci.calit2.antmonitor.lib.vpn">VpnController</a> vpnController</pre>
</li>
</ul>
<a name="mServiceConn">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>mServiceConn</h4>
<pre>private final&nbsp;android.content.ServiceConnection mServiceConn</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="VpnController--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>VpnController</h4>
<pre>private&nbsp;VpnController()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getInstance-edu.uci.calit2.antmonitor.lib.AntMonitorActivity-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getInstance</h4>
<pre>public static&nbsp;<a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/VpnController.html" title="class in edu.uci.calit2.antmonitor.lib.vpn">VpnController</a>&nbsp;getInstance(<a href="../../../../../../edu/uci/calit2/antmonitor/lib/AntMonitorActivity.html" title="interface in edu.uci.calit2.antmonitor.lib">AntMonitorActivity</a>&nbsp;activity)
                                 throws java.lang.ClassCastException</pre>
<div class="block">Initializes the controller</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>activity</code> - must be a <code>Context</code> instance</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an instance of the <a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/VpnController.html" title="class in edu.uci.calit2.antmonitor.lib.vpn"><code>VpnController</code></a></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.ClassCastException</code> - if <code>activity</code> is not a <code>Context</code> instance</dd>
</dl>
</li>
</ul>
<a name="bind--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>bind</h4>
<pre>public&nbsp;void&nbsp;bind()</pre>
<div class="block">Binds to the VPN service and registers a receiver so that the calling activity can
 receive updates about the VPN state through <code>onVpnStateChanged()</code>.
 Typically called in the <code>onStart()</code> method of the <code>Activity</code> responsible
 for starting/stopping the VPN connection.</div>
</li>
</ul>
<a name="unbind--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unbind</h4>
<pre>public&nbsp;void&nbsp;unbind()</pre>
<div class="block">Unbinds from the VPN service if we were previously bound to it and unregisters the
 receiver used for VPN status updates. If the VPN is connected, it will remain connected.
 Typically called in the <code>onStop()</code> method of the <code>Activity</code> responsible
 for starting/stopping the VPN connection.</div>
</li>
</ul>
<a name="connect-edu.uci.calit2.antmonitor.lib.vpn.IncPacketFilter-edu.uci.calit2.antmonitor.lib.vpn.OutPacketFilter-edu.uci.calit2.antmonitor.lib.logging.PacketConsumer-edu.uci.calit2.antmonitor.lib.logging.PacketConsumer-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>connect</h4>
<pre>public&nbsp;void&nbsp;connect(<a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/IncPacketFilter.html" title="class in edu.uci.calit2.antmonitor.lib.vpn">IncPacketFilter</a>&nbsp;incFilter,
                    <a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/OutPacketFilter.html" title="class in edu.uci.calit2.antmonitor.lib.vpn">OutPacketFilter</a>&nbsp;outFilter,
                    <a href="../../../../../../edu/uci/calit2/antmonitor/lib/logging/PacketConsumer.html" title="class in edu.uci.calit2.antmonitor.lib.logging">PacketConsumer</a>&nbsp;incPacketConsumer,
                    <a href="../../../../../../edu/uci/calit2/antmonitor/lib/logging/PacketConsumer.html" title="class in edu.uci.calit2.antmonitor.lib.logging">PacketConsumer</a>&nbsp;outPacketConsumer)</pre>
<div class="block">Attempts to start the VPN connection. Note that in order for this attempt to be successful,
 you must be bound and you must have obtained VPN rights from the user.

 If any of the parameters are null, the default filter/consumer will be used.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>incFilter</code> - this <a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/PacketFilter.html" title="class in edu.uci.calit2.antmonitor.lib.vpn"><code>PacketFilter</code></a> will be used to filter real-time incoming traffic</dd>
<dd><code>outFilter</code> - this <a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/PacketFilter.html" title="class in edu.uci.calit2.antmonitor.lib.vpn"><code>PacketFilter</code></a> will be used to filter real-time outgoing traffic</dd>
<dd><code>incPacketConsumer</code> - this <a href="../../../../../../edu/uci/calit2/antmonitor/lib/logging/PacketConsumer.html" title="class in edu.uci.calit2.antmonitor.lib.logging"><code>PacketConsumer</code></a>'s <code>consumePacket()</code> method will
                          be called when there is an incoming packet available for
                          off-line processing</dd>
<dd><code>outPacketConsumer</code> - this <a href="../../../../../../edu/uci/calit2/antmonitor/lib/logging/PacketConsumer.html" title="class in edu.uci.calit2.antmonitor.lib.logging"><code>PacketConsumer</code></a>'s <code>consumePacket()</code> method will
                          be called when there is an outgoing packet available for
                          off-line processing</dd>
</dl>
</li>
</ul>
<a name="connectInBackground-android.content.Context-edu.uci.calit2.antmonitor.lib.vpn.IncPacketFilter-edu.uci.calit2.antmonitor.lib.vpn.OutPacketFilter-edu.uci.calit2.antmonitor.lib.logging.PacketConsumer-edu.uci.calit2.antmonitor.lib.logging.PacketConsumer-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>connectInBackground</h4>
<pre>public static&nbsp;void&nbsp;connectInBackground(android.content.Context&nbsp;context,
                                       <a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/IncPacketFilter.html" title="class in edu.uci.calit2.antmonitor.lib.vpn">IncPacketFilter</a>&nbsp;incFilter,
                                       <a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/OutPacketFilter.html" title="class in edu.uci.calit2.antmonitor.lib.vpn">OutPacketFilter</a>&nbsp;outFilter,
                                       <a href="../../../../../../edu/uci/calit2/antmonitor/lib/logging/PacketConsumer.html" title="class in edu.uci.calit2.antmonitor.lib.logging">PacketConsumer</a>&nbsp;incPacketConsumer,
                                       <a href="../../../../../../edu/uci/calit2/antmonitor/lib/logging/PacketConsumer.html" title="class in edu.uci.calit2.antmonitor.lib.logging">PacketConsumer</a>&nbsp;outPacketConsumer)</pre>
<div class="block">Same as <a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/VpnController.html#connect-edu.uci.calit2.antmonitor.lib.vpn.IncPacketFilter-edu.uci.calit2.antmonitor.lib.vpn.OutPacketFilter-edu.uci.calit2.antmonitor.lib.logging.PacketConsumer-edu.uci.calit2.antmonitor.lib.logging.PacketConsumer-"><code>connect(IncPacketFilter, OutPacketFilter, PacketConsumer, PacketConsumer)</code></a>, except
 it does not require binding (see <a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/VpnController.html#bind--"><code>bind()</code></a>). Use this method if you do not wish to
 receive updates about the VPN state. Note that an unsuccessful connection from this method
 will trigger automatic re-tries. This method is useful for re-connecting upon a device
 boot. Use this method with caution as users may not want automatic re-connecting.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>context</code> - typically an <code>Activity</code> or a <code>Service</code>.</dd>
<dd><code>incFilter</code> - this <a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/PacketFilter.html" title="class in edu.uci.calit2.antmonitor.lib.vpn"><code>PacketFilter</code></a> will be used to filter real-time incoming traffic</dd>
<dd><code>outFilter</code> - this <a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/PacketFilter.html" title="class in edu.uci.calit2.antmonitor.lib.vpn"><code>PacketFilter</code></a> will be used to filter real-time outgoing traffic</dd>
<dd><code>incPacketConsumer</code> - this <a href="../../../../../../edu/uci/calit2/antmonitor/lib/logging/PacketConsumer.html" title="class in edu.uci.calit2.antmonitor.lib.logging"><code>PacketConsumer</code></a>'s <code>consumePacket()</code> method will
                          be called when there is an incoming packet available for
                          off-line processing</dd>
<dd><code>outPacketConsumer</code> - this <a href="../../../../../../edu/uci/calit2/antmonitor/lib/logging/PacketConsumer.html" title="class in edu.uci.calit2.antmonitor.lib.logging"><code>PacketConsumer</code></a>'s <code>consumePacket()</code> method will
                          be called when there is an outgoing packet available for
                          off-line processing</dd>
</dl>
</li>
</ul>
<a name="disconnect--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>disconnect</h4>
<pre>public&nbsp;void&nbsp;disconnect()</pre>
<div class="block">Disconnects the VPN if we are connected. Otherwise, nothing happens.</div>
</li>
</ul>
<a name="setSSLBumpingEnabled-android.content.Context-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setSSLBumpingEnabled</h4>
<pre>public static&nbsp;void&nbsp;setSSLBumpingEnabled(android.content.Context&nbsp;context,
                                        boolean&nbsp;enabled)
                                 throws java.lang.IllegalStateException</pre>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>context</code> - used to check if certificate was installed</dd>
<dd><code>enabled</code> - pass <code>true</code> to enable SSL bumping, and
 pass <code>false</code> otherwise</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalStateException</code> - if certificate is not installed and <code>enabled</code> is
 true</dd>
</dl>
</li>
</ul>
<a name="getSSLBumpingEnabled--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSSLBumpingEnabled</h4>
<pre>public static&nbsp;boolean&nbsp;getSSLBumpingEnabled()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if SSL bumping is currently enabled, and <code>false</code> otherwise</dd>
</dl>
</li>
</ul>
<a name="addPinnedDomains-java.io.InputStream-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addPinnedDomains</h4>
<pre>public static&nbsp;void&nbsp;addPinnedDomains(java.io.InputStream&nbsp;jsonStream)
                             throws java.io.IOException</pre>
<div class="block">Add domain/app combos in the provided stream to a list of domain/apps that should not
 attempt TLS interception. The provided JSON stream should be of the following format: <br>
            <pre>
             {
                 "pinnedCombinations": [
                     {
                         "packageName": "com.android.providers.downloads",
                         "domains": ["*.google.com"]
                     },

                     {
                         "packageName": "org.mozilla.firefox",
                         "domains": ["*.media.mozilla.com", "twitter.com"]
                     }
                 ]
             }
            </pre>
     Invoke this function every time you connect to VPN.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>jsonStream</code> - the stream to read domain/app combos from. Callers must close the stream.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
<a name="isConnectedToInternet--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>isConnectedToInternet</h4>
<pre>public&nbsp;boolean&nbsp;isConnectedToInternet()</pre>
<div class="block">Convenience method for checking Internet connectivity</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if there is Internet connectivity, and <code>false</code> otherwise</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/VpnClient.VpnClientBinder.html" title="class in edu.uci.calit2.antmonitor.lib.vpn"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../../edu/uci/calit2/antmonitor/lib/vpn/VpnController.VpnStateReceiver.html" title="class in edu.uci.calit2.antmonitor.lib.vpn"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?edu/uci/calit2/antmonitor/lib/vpn/VpnController.html" target="_top">Frames</a></li>
<li><a href="VpnController.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
